<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Voltage Divider Resistor Calculator</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="nuis/nouislider.css">
    <link
  rel="icon"
  href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>⚡</text></svg>"
/>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>
<body>
    <div class="theme-toggle-fixed">
        <label class="theme-switch theme-switch-dark" for="checkbox">
            <input type="checkbox" id="checkbox" />
            <div class="slider round">
                <i class="fas fa-sun"></i>
                <i class="fas fa-moon"></i>
            </div>
        </label>
    </div>
    <div class="container">
        <h1>Voltage Divider Resistor Calculator
            <div class="help-tooltip">
                ?
                <span class="tooltip-text">
                    Find the best resistor combinations for a voltage divider circuit from a fixed list of resistor values.
                    Enter your available resistor values, supply voltage, and target output voltage to find optimal combinations.
                    <br><br>
                    Works best on desktop.
                    <br><br>
                    <a href="readme.html" target="_blank" style="color: var(--accent-color); text-decoration: underline;">View documentation →</a>
                </span>
            </div>
        </h1>
        
        <div class="main-content">
            <div class="input-section">
                <div class="input-group">
                    <label for="resistorValues">Resistor Values (Ω):</label>
                    <input type="text" id="resistorValues" placeholder="Enter values separated by commas (e.g. 100,220,4K7,100M)">
                    <div class="autofill-controls">
                        <button id="autofillBtn" class="autofill-btn">Autofill common values</button>
                        <span class="autofill-label">Decade:</span>
                        <select id="autofillRange" class="autofill-range-select">
                            <option value="1">Ω</option>
                            <option value="10">10Ω</option>
                            <option value="100" selected>100Ω</option>
                            <option value="1000">KΩ</option>
                            <option value="10000">10KΩ</option>
                            <option value="100000">100KΩ</option>
                            <option value="1000000">MΩ</option>
                            <option value="10000000">10MΩ</option>
                            <option value="100000000">100MΩ</option>
                        </select>
                        <span class="autofill-label" style="margin-left: 0.5rem;">Series:</span>
                        <select id="autofillSeries" class="autofill-series-select">
                            <option value="E24" selected>E24</option>
                            <option value="E48">E48</option>
                            <option value="E96">E96</option>
                            <option value="E192">E192</option>
                        </select>
                    </div>
                </div>
                
                <div class="input-group">
                    <label for="supplyVoltage">Supply Voltage (V<sub>supply</sub>):</label>
                    <input type="number" id="supplyVoltage" value="5" step="0.1">
                </div>
                
                <div class="input-group">
                    <label for="targetVoltage">Target Voltage (V<sub>out</sub>):</label>
                    <input type="number" id="targetVoltage" value="3.3">
                </div>
                
                <button id="calculateBtn">Calculate Combinations</button>
            </div>

            <div class="options-section">
                <label>Options:</label>
                <div class="options-box">
                    <div class="option-group">
                        <div class="theme-switch-wrapper">
                            <label class="theme-switch" for="overshoot">
                                <input type="checkbox" id="overshoot" checked />
                                <div class="slider round"></div>
                            </label>
                            <span class="theme-label">Allow Voltage Overshoot</span>
                            <div class="help-tooltip">
                                ?
                                <span class="tooltip-text">
                                    When enabled, the calculator will include combinations that produce voltages above the target voltage. 
                                    This can be useful when you need to find the closest possible match, even if it exceeds your target.
                                </span>
                                                    </div>
                        <div class="theme-switch-wrapper" style="margin-top: 10px;">
                            <label class="theme-switch" for="useParallel">
                                <input type="checkbox" id="useParallel" checked />
                                <div class="slider round"></div>
                            </label>
                            <span class="theme-label">Use Multi-core Processing</span>
                            <div class="help-tooltip">
                                ?
                                <span class="tooltip-text">
                                    Enable parallel processing using Web Workers to utilize multiple CPU cores. This significantly speeds up calculations for large resistor sets.
                                </span>
                            </div>
                        </div>
                    </div>
                </div>
                    <div class="option-group">
                        <div class="sort-options">
                            <span class="theme-label">Sort Results By:</span>
                            <select name="sortBy" id="sortBy" class="sort-select">
                                <option value="totalResistanceAsc">Total Resistance ↑ (Ascending)</option>
                                <option value="totalResistanceDesc">Total Resistance ↓ (Descending)</option>
                                <option value="error" selected>Lowest Error</option>
                                <option value="components">Lowest Component Count</option>
                            </select>
                            <div class="resistance-filter-section" style="display: none;">
                                <span class="theme-label">Filter Total Resistance [Min: <span id="resistance-min">0</span> - Max: <span id="resistance-max">0</span>]
                                    <div class="help-tooltip" style="display: inline;">
                                        ?
                                        <span class="tooltip-text">
                                            Move the handles to set the filter range. Drag the range from the middle to adjust the filter while maintaining the min-max range.
                                        </span>
                                    </div>
                                </span>
                                <div class="resistance-filter-container">
                                    <div id="resistance-slider"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div id="results" class="results-container"></div>
        
        <!-- Loading spinner -->
        <div id="loadingSpinner" class="loading-spinner" style="display: none;">
            <div class="spinner"></div>
            <p>Calculating combinations...</p>
            <p class="progress-text"></p>
        </div>
    </div>
    <footer>
        <span class="disclaimer">Disclaimer: results are provided without warranty or verification. Use at your own risk!</span>
        <br>
        Made by <a href="https://mynameis.dev" target="_blank">Dev</a> © <a href="https://whatevertogether.net/" target="_blank">Whatever Together</a> 2025
        <br>
        <span class="disclaimer">Source on <a href="https://github.com/go2dev/resistor-finder" target="_blank">GitHub</a></span>
       
    </footer>
    <script src="script.js"></script>
    <script src="schematic.js"></script>
    <script src="nuis/nouislider.js"></script>
</body>
</html> 